!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux-app",[],t):"object"==typeof exports?exports["redux-app"]=t():e["redux-app"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REDUCER=Symbol("REDUX-APP.COMPONENT.REDUCER"),t.DISPOSE=Symbol("REDUX-APP.COMPONENT.DISPOSE"),t.COMPONENT_ID=Symbol("REDUX-APP.COMPONENT.ID"),t.COMPONENT_SCHEMA=Symbol("REDUX-APP.COMPONENT_SCHEMA"),t.COMPONENT_SCHEMA_OPTIONS=Symbol("REDUX-APP.COMPONENT_SCHEMA.OPTIONS"),t.NO_DISPATCH=Symbol("REDUX-APP.COMPONENT_SCHEMA.NO_DISPATCH"),t.WITH_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.WITH_ID"),t.AUTO_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.AUTO_ID")},function(e,t,n){"use strict";function o(e){return i.assertComponentSchema(e),Object.assign({},new s,t.globalOptions.schema,c.getConstructorProp(e,u.COMPONENT_SCHEMA_OPTIONS))}function r(e,t){var n=o(t),r=e,i=t.constructor.name;return n.uppercaseActions&&(r=a(r).toUpperCase(),i=a(i).toUpperCase()),n.actionNamespace&&(r=i+"."+r),r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),c=n(3),u=n(0),a=n(8),s=function(){function e(){this.actionNamespace=!0,this.uppercaseActions=!0,this.updateState=!0}return e}();t.SchemaOptions=s,t.getSchemaOptions=o,t.getActionName=r;var p;!function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.Debug=2]="Debug",e[e.Silent=10]="Silent"}(p=t.LogLevel||(t.LogLevel={}));var f=function(){function e(){this.logLevel=p.Silent,this.schema=new s}return e}();t.GlobalOptions=f,t.globalOptions=new f},function(e,t,n){"use strict";function o(e){if("function"!=typeof e)return function(t){return c(t,e)};c.call(void 0,e)}function r(e){return u.getConstructorProp(e,a.COMPONENT_SCHEMA)}function i(e,t){if(!r(e))throw new Error(t||"Invalid argument. component expected.")}function c(e,t){e[a.COMPONENT_SCHEMA]=!0,e[a.COMPONENT_SCHEMA_OPTIONS]=t}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),a=n(0);t.component=o,t.isComponentSchema=r,t.assertComponentSchema=i},function(e,t,n){"use strict";function o(e){var t,n=/^function\s*?[^\(]*?\(\s*?([^\)]*?)\)/m,o=/^class[\s\S]*?constructor\s*?[^\(]*?\(\s*?([^\)]*?)\)/m,r=e.toString().match(n),i=e.toString().match(o);if(i&&i.length)t=i[1];else{if(!r||!r.length)return[];t=r[1]}return t=t.split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e})}function r(e){if(e)return e.prototype||e.constructor.prototype}function i(e){if(e){var t=r(e);if(t){for(var n={},o=0,i=Object.keys(t);o<i.length;o++){var c=i[o];"function"==typeof t[c]&&(n[c]=t[c])}return n}}}function c(e,t){return"string"==typeof t&&(t=t.replace(/\[|\]/g,".").split(".").filter(function(e){return"string"==typeof e&&""!==e.trim()})),t.reduce(function(e,t){if("object"==typeof e&&t)return e[t.toString()]},e)}function u(e,t){return e&&e.constructor&&e.constructor[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getArgumentNames=o,t.getPrototype=r,t.getMethods=i,t.getProp=c,t.getConstructorProp=u},function(e,t,n){"use strict";function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];c(u.LogLevel.Debug)&&console.log.apply(console,["[ReduxApp] [DEBUG] "+e].concat(t))}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];c(u.LogLevel.Debug)&&console.warn.apply(console,["[ReduxApp] [DEBUG] "+e].concat(t))}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];c(u.LogLevel.Verbose)&&console.log.apply(console,["[ReduxApp] [VERBOSE] "+e].concat(t))}function c(e){return u.globalOptions.logLevel!==u.LogLevel.None&&!(u.globalOptions.logLevel>e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.debug=o,t.debugWarn=r,t.verbose=i},function(e,t,n){"use strict";function o(e){return function(t,n){t[i.WITH_ID]||(t[i.WITH_ID]={}),t[i.WITH_ID][n]=e||i.AUTO_ID}}function r(e,t){if(e&&t.length){if(e[i.WITH_ID]){var n=t[t.length-1],o=e[i.WITH_ID][n];if(o){if(o===i.AUTO_ID){var r=--u;return c.verbose("[getComponentId] new component id generated: "+r),e[i.WITH_ID][n]=r,r}return o}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(4);t.withId=o;var u=0;t.getComponentId=r},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.component=o.component;var r=n(1);t.SchemaOptions=r.SchemaOptions,t.GlobalOptions=r.GlobalOptions,t.LogLevel=r.LogLevel;var i=n(9);t.ReduxApp=i.ReduxApp;var c=n(13);t.noDispatch=c.noDispatch,t.sequence=c.sequence;var u=n(5);t.withId=u.withId},function(e,t){e.exports=require("lodash.snakecase")},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(11),c=n(1),u=n(12),a=n(0),s=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=function(){};this.store=r.createStore.apply(void 0,[o].concat(t));var c=new i.Component(this.store,e,null,[]);this.root=c;var u=this.getReducer(c);this.store.replaceReducer(u)}return e.prototype.getReducer=function(e){for(var t=e[a.REDUCER],n={},r=0,c=Object.keys(e);r<c.length;r++){var s=c[r];e[s]instanceof i.Component&&(n[s]=this.getReducer(e[s]))}if(Object.keys(n).length){var p=u.simpleCombineReducers(n);return function(e,n){var r=t(e,n),i=p(r,n);return o({},r,i)}}return t},e.options=c.globalOptions,e}();t.ReduxApp=s},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";function o(e,t,n,o,r){e[l.DISPOSE]=[];var a=d.getComponentId(o,r);void 0!==a&&null!==a&&(e[l.COMPONENT_ID]=a);for(var s=0,v=Object.keys(n);s<v.length;s++){var g=v[s];e[g]=n[g]}var O=f.getPrototype(e),h=i(t.dispatch,n);if(Object.assign(O,h),e[l.REDUCER]=c(e,n),p.getSchemaOptions(n).updateState){var b=t.subscribe(function(){return u(e,t.getState(),r)});e[l.DISPOSE].push({dispose:function(){return b()}})}}function r(e,t,n,o){for(var r=0,i=Object.keys(n);r<i.length;r++){var c=i[r],u=n[c];a.isComponentSchema(u)&&(e[c]=new v(t,u,n,o.concat([c])))}}function i(e,t){var n=f.getMethods(t);if(n){var o={};return Object.keys(n).forEach(function(r){o[r]=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!(this instanceof v)){s.debugWarn("Component method invoked with non-Component as 'this'. Some redux-app features such as the withId decorator will not work. Bound 'this' argument: ",this)}var c=n[r];c[l.NO_DISPATCH]?c.call.apply(c,[this].concat(o)):e({type:p.getActionName(r,t),id:this[l.COMPONENT_ID],payload:o})}}),o}}function c(e,t){var n=f.getMethods(t),o={};Object.keys(n).forEach(function(e){var n=p.getActionName(e,t);o[n]=e});var r=e[l.COMPONENT_ID];return function(e,i){if(s.verbose("[reducer] reducer of: "+t.constructor.name+", action: "+i.type),void 0===e)return s.verbose("[reducer] state is undefined, returning initial value"),t;if(r!==i.id)return s.verbose("[reducer] component id and action.id don't match ("+r+" !== "+i.id+")"),e;var c=o[i.type],u=n[c];if(!u)return s.verbose("[reducer] no matching action in this reducer, returning previous state"),e;var a=Object.assign({},e);return u.call.apply(u,[a].concat(i.payload)),s.verbose("[reducer] reducer invoked returning new state"),a}}function u(e,t,n){var o=e,r=f.getProp(t,n),i=[],c=[];s.verbose("[updateState] updating component in path: ",n.join(".")),s.verbose("[updateState] store before: ",r),s.verbose("[updateState] component before: ",e),Object.keys(r).forEach(function(e){o[e]===r[e]||o[e]instanceof v||(o[e]=r[e],c.push(e))}),Object.keys(e).forEach(function(e){void 0===r[e]&&(delete o[e],i.push(e))}),i.length||c.length?(s.verbose("[updateState] store after: ",r),s.verbose("[updateState] component after: ",e),s.debug("[updateState] state of "+n.join(".")+" changed"),i.length?s.debug("[updateState] props deleted: ",i):s.verbose("[updateState] props deleted: ",i),c.length?s.debug("[updateState] props assigned: ",c):s.verbose("[updateState] props assigned: ",c)):s.verbose("[updateState] no change")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(4),p=n(1),f=n(3),l=n(0),d=n(5),v=function(){function e(e,t,n,i){if(!a.isComponentSchema(t))throw new Error("Argument 'schema' is not a component schema. Did you forget to use the decorator?");o(this,e,t,n,i),r(this,e,t,i),s.debug("[Component] new "+t.constructor.name+" component created. path: root."+i.join("."))}return e.prototype.disposeComponent=function(){for(var e=this[l.DISPOSE];e.length;){var t=e.pop();t&&t.dispose&&t.dispose()}},e}();t.Component=v},function(e,t,n){"use strict";function o(e){var t=Object.keys(e);return function(n,o){void 0===n&&(n={});for(var r=!1,i={},c=0,u=t;c<u.length;c++){var a=u[c],s=e[a],p=n[a],f=s(p,o);i[a]=f,r=r||f!==p}return r?i:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.simpleCombineReducers=o},function(e,t,n){"use strict";function o(e,t){i(e,t)}function r(e,t){i(e,t)}function i(e,t){e[t][c.NO_DISPATCH]=!0}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0);t.noDispatch=o,t.sequence=r}])});