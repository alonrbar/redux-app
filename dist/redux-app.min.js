!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux-app",[],t):"object"==typeof exports?exports["redux-app"]=t():e["redux-app"]=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,o){"use strict";function n(e,t,o){return e[t]=o}function r(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.setSymbol=n,t.getSymbol=r,t.REDUCER=Symbol("REDUX-APP.COMPONENT.REDUCER"),t.DISPOSE=Symbol("REDUX-APP.COMPONENT.DISPOSE"),t.COMPONENT_ID=Symbol("REDUX-APP.COMPONENT.ID"),t.COMPONENT_SCHEMA=Symbol("REDUX-APP.COMPONENT_SCHEMA"),t.COMPONENT_SCHEMA_OPTIONS=Symbol("REDUX-APP.COMPONENT_SCHEMA.OPTIONS"),t.COMPONENT_SCHEMA_CLASS=Symbol("REDUX-APP.COMPONENT_SCHEMA.CLASS"),t.NO_DISPATCH=Symbol("REDUX-APP.COMPONENT_SCHEMA.NO_DISPATCH"),t.COMPUTED=Symbol("REDUX-APP.COMPONENT_SCHEMA.COMPUTED"),t.WITH_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.WITH_ID"),t.AUTO_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.AUTO_ID")},function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o(10)),n(o(12)),n(o(13))},function(e,t,o){"use strict";function n(e){return i.assertComponentSchema(e),Object.assign({},new s,t.globalOptions.schema,u.getConstructorProp(e,c.COMPONENT_SCHEMA_OPTIONS))}function r(e,t){var o=n(t),r=e,i=t.constructor.name;return o.uppercaseActions&&(r=a(r).toUpperCase(),i=a(i).toUpperCase()),o.actionNamespace&&(r=i+"."+r),r}Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),u=o(1),c=o(0),a=o(11),s=function(){function e(){this.actionNamespace=!0,this.uppercaseActions=!0,this.updateState=!0}return e}();t.SchemaOptions=s,t.getSchemaOptions=n,t.getActionName=r;var p;!function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.Debug=2]="Debug",e[e.Warn=5]="Warn",e[e.Silent=10]="Silent"}(p=t.LogLevel||(t.LogLevel={}));var l=function(){function e(){this.logLevel=p.Silent,this.schema=new s}return e}();t.GlobalOptions=l,t.globalOptions=new l},function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o(4)),n(o(6))},function(e,t,o){"use strict";function n(e,t,o,n,r){l.setSymbol(e,l.DISPOSE,[]),s.setComponentId(e,n,r),s.addComputed(e,o);for(var u=0,a=Object.keys(o);u<a.length;u++){var f=a[u];e[f]=o[f]}if(l.setSymbol(e,l.REDUCER,i(e,o)),p.getSchemaOptions(o).updateState){var d=t.subscribe(function(){return c(e,t.getState(),r)});l.getSymbol(e,l.DISPOSE).push({dispose:function(){return d()}})}}function r(e,t,o,n,i){if(!i.has(e)&&(i.add(e),!f.isPrimitive(e)))for(var u=o||e,c=0,a=Object.keys(u);c<a.length;c++){var s=a[c],p=u[s],l=n.concat([s]);d.isComponentSchema(p)?e[s]=v.create(t,p,o,l,i):r(e[s],t,null,l,i)}}function i(e,t){var o=f.getMethods(t),n={};Object.keys(o).forEach(function(e){var o=p.getActionName(e,t);n[o]=e});var r=l.getSymbol(e,l.COMPONENT_ID);return function(e,i){if(f.log.verbose("[reducer] reducer of: "+t.constructor.name+", action: "+i.type),void 0===e)return f.log.verbose("[reducer] state is undefined, returning initial value"),t;if(r!==i.id)return f.log.verbose("[reducer] component id and action.id don't match ("+r+" !== "+i.id+")"),e;var u=n[i.type],c=o[u];if(!c)return f.log.verbose("[reducer] no matching action in this reducer, returning previous state"),e;var a=Object.assign({},e);return c.call.apply(c,[a].concat(i.payload)),f.log.verbose("[reducer] reducer invoked, returning new state"),a}}function u(e,t,o){if(void 0===t&&(t=[]),void 0===o&&(o=new Set),!o.has(e)&&(o.add(e),!f.isPrimitive(e))){for(var n=l.getSymbol(e,l.REDUCER)||O,r={},i=0,c=Object.keys(e);i<c.length;i++){var p=c[i],d=u(e[p],t.concat(p),o);"function"==typeof d&&(r[p]=d)}var v=n;if(Object.keys(r).length){var g=f.simpleCombineReducers(r);v=function(e,t){var o=n(e,t),r=g(o,t);return a({},o,r)}}return s.reducerWithComputed(v,e)}}function c(e,t,o){var n=e,r=f.getProp(t,o);f.log.verbose("[updateState] updating component in path: ",o.join(".")),f.log.verbose("[updateState] store before: ",r),f.log.verbose("[updateState] component before: ",e);var i=[];Object.keys(r).forEach(function(e){n[e]===r[e]||n[e]instanceof v||(n[e]=r[e],i.push(e))});var u=[];Object.keys(e).forEach(function(e){r.hasOwnProperty(e)||(delete n[e],u.push(e))}),u.length||i.length?(f.log.verbose("[updateState] store after: ",r),f.log.verbose("[updateState] component after: ",e),f.log.debug("[updateState] state of "+o.join(".")+" changed"),u.length?f.log.debug("[updateState] props deleted: ",u):f.log.verbose("[updateState] props deleted: ",u),i.length?f.log.debug("[updateState] props assigned: ",i):f.log.verbose("[updateState] props assigned: ",i)):f.log.verbose("[updateState] no change")}var a=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=o(5),p=o(2),l=o(0),f=o(1),d=o(6),v=function(){function e(e,t,o,i,u){if(void 0===i&&(i=[]),void 0===u&&(u=new Set),!d.isComponentSchema(t))throw new Error("Argument 'schema' is not a component schema. Did you forget to use the decorator?");n(this,e,t,o,i),r(this,e,t,i,u),f.log.debug("[Component] new "+t.constructor.name+" component created. path: root."+i.join("."))}return e.create=function(e,t,o,n,r){return void 0===n&&(n=[]),void 0===r&&(r=new Set),new(d.getComponentClass(t,e.dispatch))(e,t,o,n,r)},e.prototype.disposeComponent=function(){for(var e=l.getSymbol(this,l.DISPOSE);e.length;){var t=e.pop();t&&t.dispose&&t.dispose()}},e}();t.Component=v;var O=function(e){return e};t.getReducerFromTree=u},function(e,t,o){"use strict";function n(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),n(o(9)),n(o(14)),n(o(15))},function(e,t,o){"use strict";function n(e){if("function"!=typeof e)return function(t){return c(t,e)};c.call(void 0,e)}function r(e){return d.getConstructorProp(e,f.COMPONENT_SCHEMA)}function i(e,t){if(!r(e))throw new Error(t||"Invalid argument. component expected.")}function u(e,t){var o=f.getSymbol(e,f.COMPONENT_SCHEMA_CLASS);return o||(o=a(e,t)),o}function c(e,t){f.setSymbol(e,f.COMPONENT_SCHEMA,!0),f.setSymbol(e,f.COMPONENT_SCHEMA_OPTIONS,t)}function a(e,t){var o=function(e){function t(t,o){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e.apply(this,[t,o].concat(n))||this}return p(t,e),t}(v.Component),n=s(e,t);Object.assign(o.prototype,n);var r=Object.getPrototypeOf(e);return f.setSymbol(r,f.COMPONENT_SCHEMA_CLASS,o)}function s(e,t){var o=d.getMethods(e);if(o){var n={};return Object.keys(o).forEach(function(r){n[r]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!(this instanceof v.Component)){d.log.warn("Component method invoked with non-Component as 'this'. Some redux-app features such as the withId decorator will not work. Bound 'this' argument is: ",this)}var u=o[r];f.getSymbol(u,f.NO_DISPATCH)?u.call.apply(u,[this].concat(n)):t({type:l.getActionName(r,e),id:f.getSymbol(this,f.COMPONENT_ID),payload:n})}}),n}}var p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=o(2),f=o(0),d=o(1),v=o(4);t.component=n,t.isComponentSchema=r,t.assertComponentSchema=i,t.getComponentClass=u},function(e,t,o){e.exports=o(8)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3);t.component=n.component;var r=o(2);t.SchemaOptions=r.SchemaOptions,t.GlobalOptions=r.GlobalOptions,t.LogLevel=r.LogLevel;var i=o(16);t.ReduxApp=i.ReduxApp;var u=o(5);t.computed=u.computed,t.noDispatch=u.noDispatch,t.sequence=u.sequence,t.withId=u.withId},function(e,t,o){"use strict";function n(e,t){var o=Object.getOwnPropertyDescriptor(e,t);if("function"!=typeof o.get)throw new Error("Failed to decorate '"+t+"'. The 'computed' decorator should only be used on getters.");if(o.set)throw new Error("Failed to decorate '"+t+"'. Decorated property should not have a setter.");delete e[t],Object.defineProperty(e,t,s);var n=c.getSymbol(e,c.COMPUTED)||{};n[t]=o.get,c.setSymbol(e,c.COMPUTED,n)}function r(e,t){return function(o,n){var r=e(o,n);return u(t,r),r}}function i(e,t){var o=c.getSymbol(t,c.COMPUTED);if(o){for(var n=0,r=Object.keys(o);n<r.length;n++){delete e[r[n]]}c.setSymbol(e,c.COMPUTED,o)}}function u(e,t){var o=c.getSymbol(e,c.COMPUTED);if(o)for(var n=0,r=Object.keys(o);n<r.length;n++){var i=r[n],u=o[i];a.log.verbose("[computeProps] computing new value of '"+i+"'");var s=u.call(t),p=t[i];s!==p&&(a.log.verbose("[computeProps] updating the state of '"+i+"'. New value: '"+s+"', Old value: '"+p+"'."),delete t[i],t[i]=s)}}Object.defineProperty(t,"__esModule",{value:!0});var c=o(0),a=o(1),s={writable:!0,configurable:!0,enumerable:!0};t.computed=n,t.reducerWithComputed=r,t.addComputed=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),r=function(){function e(){}return e.prototype.verbose=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.shouldLog(n.LogLevel.Verbose)&&console.log.apply(console,["[ReduxApp] [VERBOSE] "+e].concat(t))},e.prototype.debug=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.shouldLog(n.LogLevel.Debug)&&console.log.apply(console,["[ReduxApp] [DEBUG] "+e].concat(t))},e.prototype.warn=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.shouldLog(n.LogLevel.Warn)&&console.warn.apply(console,["[ReduxApp] [WARN] "+e].concat(t))},e.prototype.shouldLog=function(e){return n.globalOptions.logLevel!==n.LogLevel.None&&!(n.globalOptions.logLevel>e)},e}();t.log=new r},function(e,t){e.exports=require("lodash.snakecase")},function(e,t,o){"use strict";function n(e){var t=Object.keys(e);return function(o,n){void 0===o&&(o={});for(var r=!1,i={},u=0,c=t;u<c.length;u++){var a=c[u],s=e[a],p=o[a],l=s(p,n);i[a]=l,r=r||l!==p}return r?i:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.simpleCombineReducers=n},function(e,t,o){"use strict";function n(e){if(!e)return!0;var t=typeof e;return"object"!==t&&"function"!==t}function r(e){if(e){var t=Object.getPrototypeOf(e);if(t){for(var o={},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];"function"==typeof t[i]&&(o[i]=t[i])}return o}}}function i(e,t){return"string"==typeof t&&(t=t.replace(/\[|\]/g,".").split(".").filter(function(e){return"string"==typeof e&&""!==e.trim()})),t.reduce(function(e,t){if("object"==typeof e&&t)return e[t.toString()]},e)}function u(e,t){return e&&e.constructor&&e.constructor[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.isPrimitive=n,t.getMethods=r,t.getProp=i,t.getConstructorProp=u},function(e,t,o){"use strict";function n(e,t){i(e,t)}function r(e,t){i(e,t)}function i(e,t){e[t][u.NO_DISPATCH]=!0}Object.defineProperty(t,"__esModule",{value:!0});var u=o(0);t.noDispatch=n,t.sequence=r},function(e,t,o){"use strict";function n(e){return function(t,o){t[u.WITH_ID]||(t[u.WITH_ID]={}),t[u.WITH_ID][o]=e||u.AUTO_ID}}function r(e,t,o){var n=i(t,o);void 0!==n&&null!==n&&u.setSymbol(e,u.COMPONENT_ID,n)}function i(e,t){var o=e;if(e&&t.length){if(o[u.WITH_ID]){var n=t[t.length-1],r=o[u.WITH_ID][n];if(r){if(r===u.AUTO_ID){var i=--a;return c.log.verbose("[getComponentId] new component id generated: "+i),o[u.WITH_ID][n]=i,i}return r}}}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(0),c=o(1);t.withId=n,t.setComponentId=r;var a=0},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(17),r=o(3),i=o(2),u=function(){function e(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=function(){};this.store=n.createStore.apply(void 0,[i].concat(t));var u=r.Component.create(this.store,e);this.root=u;var c=r.getReducerFromTree(u);this.store.replaceReducer(c)}return e.options=i.globalOptions,e}();t.ReduxApp=u},function(e,t){e.exports=require("redux")}])});