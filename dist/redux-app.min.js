!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("redux-app",[],t):"object"==typeof exports?exports["redux-app"]=t():e["redux-app"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REDUCER=Symbol("REDUX-APP.COMPONENT.REDUCER"),t.DISPOSE=Symbol("REDUX-APP.COMPONENT.DISPOSE"),t.COMPONENT_ID=Symbol("REDUX-APP.COMPONENT.ID"),t.COMPONENT_SCHEMA=Symbol("REDUX-APP.COMPONENT_SCHEMA"),t.COMPONENT_SCHEMA_OPTIONS=Symbol("REDUX-APP.COMPONENT_SCHEMA.OPTIONS"),t.NO_DISPATCH=Symbol("REDUX-APP.COMPONENT_SCHEMA.NO_DISPATCH"),t.WITH_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.WITH_ID"),t.AUTO_ID=Symbol("REDUX-APP.COMPONENT_SCHEMA.AUTO_ID")},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(11)),o(n(13)),o(n(14))},function(e,t,n){"use strict";function o(e){return i.assertComponentSchema(e),Object.assign({},new s,t.globalOptions.schema,u.getConstructorProp(e,c.COMPONENT_SCHEMA_OPTIONS))}function r(e,t){var n=o(t),r=e,i=t.constructor.name;return n.uppercaseActions&&(r=a(r).toUpperCase(),i=a(i).toUpperCase()),n.actionNamespace&&(r=i+"."+r),r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),u=n(1),c=n(0),a=n(12),s=function(){function e(){this.actionNamespace=!0,this.uppercaseActions=!0,this.updateState=!0}return e}();t.SchemaOptions=s,t.getSchemaOptions=o,t.getActionName=r;var p;!function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.Debug=2]="Debug",e[e.Silent=10]="Silent"}(p=t.LogLevel||(t.LogLevel={}));var f=function(){function e(){this.logLevel=p.Silent,this.schema=new s}return e}();t.GlobalOptions=f,t.globalOptions=new f},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(8)),o(n(5))},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(9)),o(n(10))},function(e,t,n){"use strict";function o(e){if("function"!=typeof e)return function(t){return u(t,e)};u.call(void 0,e)}function r(e){return c.getConstructorProp(e,a.COMPONENT_SCHEMA)}function i(e,t){if(!r(e))throw new Error(t||"Invalid argument. component expected.")}function u(e,t){e[a.COMPONENT_SCHEMA]=!0,e[a.COMPONENT_SCHEMA_OPTIONS]=t}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),a=n(0);t.component=o,t.isComponentSchema=r,t.assertComponentSchema=i},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.component=o.component;var r=n(2);t.SchemaOptions=r.SchemaOptions,t.GlobalOptions=r.GlobalOptions,t.LogLevel=r.LogLevel;var i=n(15);t.ReduxApp=i.ReduxApp;var u=n(4);t.noDispatch=u.noDispatch,t.sequence=u.sequence,t.withId=u.withId},function(e,t,n){"use strict";function o(e,t,n,o,r){e[p.DISPOSE]=[];var l=a.getComponentId(o,r);void 0!==l&&null!==l&&(e[p.COMPONENT_ID]=l);for(var d=0,v=Object.keys(n);d<v.length;d++){var O=v[d];e[O]=n[O]}var g=f.getPrototype(e),h=i(t.dispatch,n);if(Object.assign(g,h),e[p.REDUCER]=u(e,n),s.getSchemaOptions(n).updateState){var b=t.subscribe(function(){return c(e,t.getState(),r)});e[p.DISPOSE].push({dispose:function(){return b()}})}}function r(e,t,n,o,i){if(!i.has(e)){i.add(e);var u=n||e;if(("object"==typeof u||"function"==typeof u)&&u)for(var c=0,a=Object.keys(u);c<a.length;c++){var s=a[c],p=u[s],f=o.concat([s]);l.isComponentSchema(p)?e[s]=new d(t,p,n,f,i):r(e[s],t,null,f,i)}}}function i(e,t){var n=f.getMethods(t);if(n){var o={};return Object.keys(n).forEach(function(r){o[r]=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!(this instanceof d)){f.debugWarn("Component method invoked with non-Component as 'this'. Some redux-app features such as the withId decorator will not work. Bound 'this' argument is: ",this)}var u=n[r];u[p.NO_DISPATCH]?u.call.apply(u,[this].concat(o)):e({type:s.getActionName(r,t),id:this[p.COMPONENT_ID],payload:o})}}),o}}function u(e,t){var n=f.getMethods(t),o={};Object.keys(n).forEach(function(e){var n=s.getActionName(e,t);o[n]=e});var r=e[p.COMPONENT_ID];return function(e,i){if(f.verbose("[reducer] reducer of: "+t.constructor.name+", action: "+i.type),void 0===e)return f.verbose("[reducer] state is undefined, returning initial value"),t;if(r!==i.id)return f.verbose("[reducer] component id and action.id don't match ("+r+" !== "+i.id+")"),e;var u=o[i.type],c=n[u];if(!c)return f.verbose("[reducer] no matching action in this reducer, returning previous state"),e;var a=Object.assign({},e);return c.call.apply(c,[a].concat(i.payload)),f.verbose("[reducer] reducer invoked, returning new state"),a}}function c(e,t,n){var o=e,r=f.getProp(t,n);f.verbose("[updateState] updating component in path: ",n.join(".")),f.verbose("[updateState] store before: ",r),f.verbose("[updateState] component before: ",e);var i=[];Object.keys(r).forEach(function(e){o[e]===r[e]||o[e]instanceof d||(o[e]=r[e],i.push(e))});var u=[];Object.keys(e).forEach(function(e){void 0===r[e]&&(delete o[e],u.push(e))}),u.length||i.length?(f.verbose("[updateState] store after: ",r),f.verbose("[updateState] component after: ",e),f.debug("[updateState] state of "+n.join(".")+" changed"),u.length?f.debug("[updateState] props deleted: ",u):f.verbose("[updateState] props deleted: ",u),i.length?f.debug("[updateState] props assigned: ",i):f.verbose("[updateState] props assigned: ",i)):f.verbose("[updateState] no change")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(2),p=n(0),f=n(1),l=n(5),d=function(){function e(e,t,n,i,u){if(void 0===i&&(i=[]),void 0===u&&(u=new Set),!l.isComponentSchema(t))throw new Error("Argument 'schema' is not a component schema. Did you forget to use the decorator?");o(this,e,t,n,i),r(this,e,t,i,u),f.debug("[Component] new "+t.constructor.name+" component created. path: root."+i.join("."))}return e.prototype.disposeComponent=function(){for(var e=this[p.DISPOSE];e.length;){var t=e.pop();t&&t.dispose&&t.dispose()}},e}();t.Component=d},function(e,t,n){"use strict";function o(e,t){i(e,t)}function r(e,t){i(e,t)}function i(e,t){e[t][u.NO_DISPATCH]=!0}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0);t.noDispatch=o,t.sequence=r},function(e,t,n){"use strict";function o(e){return function(t,n){t[i.WITH_ID]||(t[i.WITH_ID]={}),t[i.WITH_ID][n]=e||i.AUTO_ID}}function r(e,t){var n=e;if(e&&t.length){if(n[i.WITH_ID]){var o=t[t.length-1],r=n[i.WITH_ID][o];if(r){if(r===i.AUTO_ID){var a=--c;return u.verbose("[getComponentId] new component id generated: "+a),n[i.WITH_ID][o]=a,a}return r}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1);t.withId=o;var c=0;t.getComponentId=r},function(e,t,n){"use strict";function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u(c.LogLevel.Debug)&&console.log.apply(console,["[ReduxApp] [DEBUG] "+e].concat(t))}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u(c.LogLevel.Debug)&&console.warn.apply(console,["[ReduxApp] [DEBUG] "+e].concat(t))}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];u(c.LogLevel.Verbose)&&console.log.apply(console,["[ReduxApp] [VERBOSE] "+e].concat(t))}function u(e){return c.globalOptions.logLevel!==c.LogLevel.None&&!(c.globalOptions.logLevel>e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2);t.debug=o,t.debugWarn=r,t.verbose=i},function(e,t){e.exports=require("lodash.snakecase")},function(e,t,n){"use strict";function o(e){var t=Object.keys(e);return function(n,o){void 0===n&&(n={});for(var r=!1,i={},u=0,c=t;u<c.length;u++){var a=c[u],s=e[a],p=n[a],f=s(p,o);i[a]=f,r=r||f!==p}return r?i:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.simpleCombineReducers=o},function(e,t,n){"use strict";function o(e){var t,n=/^function\s*?[^\(]*?\(\s*?([^\)]*?)\)/m,o=/^class[\s\S]*?constructor\s*?[^\(]*?\(\s*?([^\)]*?)\)/m,r=e.toString().match(n),i=e.toString().match(o);if(i&&i.length)t=i[1];else{if(!r||!r.length)return[];t=r[1]}return t=t.split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e})}function r(e){if(e)return e.constructor.prototype}function i(e){if(e){var t=r(e);if(t){for(var n={},o=0,i=Object.keys(t);o<i.length;o++){var u=i[o];"function"==typeof t[u]&&(n[u]=t[u])}return n}}}function u(e,t){return"string"==typeof t&&(t=t.replace(/\[|\]/g,".").split(".").filter(function(e){return"string"==typeof e&&""!==e.trim()})),t.reduce(function(e,t){if("object"==typeof e&&t)return e[t.toString()]},e)}function c(e,t){return e&&e.constructor&&e.constructor[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getArgumentNames=o,t.getPrototype=r,t.getMethods=i,t.getProp=u,t.getConstructorProp=c},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(3),u=n(2),c=n(1),a=n(0),s=function(){function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=function(){};this.store=r.createStore.apply(void 0,[o].concat(t));var u=new i.Component(this.store,e);this.root=u;var c=this.getReducer(u);this.store.replaceReducer(c)}return e.prototype.getReducer=function(e){for(var t=e[a.REDUCER],n={},r=0,u=Object.keys(e);r<u.length;r++){var s=u[r];e[s]instanceof i.Component&&(n[s]=this.getReducer(e[s]))}if(Object.keys(n).length){var p=c.simpleCombineReducers(n);return function(e,n){var r=t(e,n),i=p(r,n);return o({},r,i)}}return t},e.options=u.globalOptions,e}();t.ReduxApp=s},function(e,t){e.exports=require("redux")}])});